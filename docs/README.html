<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Goslin Implementation and User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Goslin Implementation and User Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#_lipid_shorthand_nomenclature_grammars">2. Lipid Shorthand Nomenclature Grammars</a></li>
<li><a href="#_hierarchical_representation_of_lipids">3. Hierarchical Representation of Lipids</a></li>
<li><a href="#webServiceUsers">4. Web Application and REST API</a>
<ul class="sectlevel2">
<li><a href="#_interactive_usage">4.1. Interactive Usage</a></li>
</ul>
</li>
<li><a href="#_c_implementation">5. C++ Implementation</a>
<ul class="sectlevel2">
<li><a href="#_prerequisites">5.1. Prerequisites</a></li>
<li><a href="#_testing_cppgoslin">5.2. Testing cppgoslin</a></li>
<li><a href="#_using_cppgoslin">5.3. Using cppgoslin</a></li>
</ul>
</li>
<li><a href="#_python_implementation">6. Python Implementation</a>
<ul class="sectlevel2">
<li><a href="#_prerequisites_2">6.1. Prerequisites</a></li>
<li><a href="#_testing_pygoslin">6.2. Testing pygoslin</a></li>
<li><a href="#_using_pygoslin">6.3. Using pygoslin</a></li>
</ul>
</li>
<li><a href="#_r_implementation">7. R Implementation</a>
<ul class="sectlevel2">
<li><a href="#_prerequisites_3">7.1. Prerequisites</a></li>
<li><a href="#_testing_rgoslin">7.2. Testing rgoslin</a></li>
<li><a href="#_using_rgoslin">7.3. Using rgoslin</a></li>
</ul>
</li>
<li><a href="#_java_implementation">8. Java Implementation</a>
<ul class="sectlevel2">
<li><a href="#_prerequisites_4">8.1. Prerequisites</a></li>
<li><a href="#_testing_jgoslin">8.2. Testing jgoslin</a></li>
<li><a href="#_using_the_command_line_interface">8.3. Using the command-line interface</a></li>
<li><a href="#_using_jgoslin">8.4. Using jgoslin</a></li>
</ul>
</li>
<li><a href="#goslinObjectModel">9. Goslin Object Model</a></li>
<li><a href="#supportedLipidClasses">10. Supported Lipid Classes</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Dominik Kopczynski; Nils Hoffmann; Bing Peng; Robert Ahrends</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document gives an overview for users and developers who want to use the Goslin Webapplication, REST API, or any of the implementations in C++, R, Python or Java.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lipid_shorthand_nomenclature_grammars">2. Lipid Shorthand Nomenclature Grammars</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Goslin uses ANTLRv4 compatible context-free EBNF grammars. A generic recursive decent parser is used by the different Goslin implementations (see <a href="https://en.wikipedia.org/wiki/Context-free_language" class="bare">https://en.wikipedia.org/wiki/Context-free_language</a>, <a href="https://en.wikipedia.org/wiki/LL_parser" class="bare">https://en.wikipedia.org/wiki/LL_parser</a>, <a href="https://www.antlr.org/about.html" class="bare">https://www.antlr.org/about.html</a>).</p>
</div>
<div class="paragraph">
<p>The grammars (*.g4 files) are available from our Goslin GitHub repository at <a href="https://github.com/lifs-tools/goslin" class="bare">https://github.com/lifs-tools/goslin</a>.</p>
</div>
<div class="paragraph">
<p>Visualizations of the grammar rules as so-called <code>railroad diagrams</code> can be found in the <code>docs</code> folder of the repository:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="grammars/Goslin/Goslin.html">Goslin</a></p>
</li>
<li>
<p><a href="grammars/GoslinFragments/GoslinFragments.html">Goslin Fragments</a></p>
</li>
<li>
<p><a href="grammars/HMDB/HMDB.html">HMDB</a></p>
</li>
<li>
<p><a href="grammars/LipidMaps/LipidMaps.html">LipidMaps</a></p>
</li>
<li>
<p><a href="grammars/Shorthand2020/Shorthand2020.html">Shorthand2020</a></p>
</li>
<li>
<p><a href="grammars/SumFormula/SumFormula.html">SumFormula</a></p>
</li>
<li>
<p><a href="grammars/SwissLipids/SwissLipids.html">SwissLipids</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All Goslin implementations will by default normalize the parsed lipid names to the latest shorthand nomenclature, following the Shorthand2020 grammar.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hierarchical_representation_of_lipids">3. Hierarchical Representation of Lipids</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The grammars model lipids as hierarchically structured bits of information.
We do not model the lipid category or main class explicitly, but rather keep them in a global lookup table data structure, derived from the <code>lipid-list.csv</code> file in the Goslin GitHub repository.
This allows us to keep the grammars clutter-free and makes them easier to read.</p>
</div>
<div class="paragraph">
<p>The structural classification of lipids follows the shorthand notation recently updated by Liebisch et al. and is compatible to that of LIPID MAPS. The following example shows the hierarchical representation of PE 16:1(6Z)/16:0;5OH[R],8OH;3oxo:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Structural hierarchy representation of PE(16:1(6Z)/16:0;5OH,8OH;3oxo). LM: LIPID MAPS, HG: Head Group, FA: Fatty Acyl</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Level</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category (LM Category)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Glycerophospholipids (GP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lipid category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Class (LM Class)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Glycerophosphoethanolamine (PE) GP02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lipid class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Species (LM Subclass)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Phosphatidylethanolamine (32:1), PE 32:2;O3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HG, FA summary, two double bond equivalents, three oxidations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Molecular species</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PE 16:1_16:1;O3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HG, two FAs, SN positions undetermined, two double bond equivalents, three oxidations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sn-Position</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PE 16:1/16:1;O3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HG, SN positions, here: for FA1 at sn1 and FA2 at sn2, two double bond equivalents, three oxidations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Structure defined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PE 16:1(6)/16:1;(OH)2;oxo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HG, SN positions, here: for FA1 at sn1 and FA2 at sn2, three oxidations and unspecified stereo configuration (6) on FA1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PE 16:1(6Z)/16:1;5OH,8OH;3oxo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HG, SN positions, here: for FA1 at sn1 and FA2 at sn2, positions for oxidations and stereo configuration (6Z) on FA1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PE 16:1(6Z)/16:0;5OH[R],8OH;3oxo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HG, SN positions, here: for FA1 at sn1 and FA2 at sn2, positions for oxidations and stereo configuration ([R]) and double bond position and stereo configuration (6Z) on FA1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Please see <a href="#goslinObjectModel">Chapter 9</a> for an overview of the Goslin domain model which is used to represent the structural hierarchy within the different implementations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="webServiceUsers">4. Web Application and REST API</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_interactive_usage">4.1. Interactive Usage</h3>
<div class="paragraph">
<p>The interactive goslin web application is available
at <a href="https://apps.lifs-tools.org/goslin" class="bare">https://apps.lifs-tools.org/goslin</a>.</p>
</div>
<div class="paragraph">
<p>Please check the documentation that is available with the web application on details for usage <a href="https://apps.lifs-tools.org/goslin/documentation#user-content-sec:webserviceusers">here</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_c_implementation">5. C++ Implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the documentation for the goslin reference implementation for
C++. Please be aware, that the documentation is dedicated to developers
of tools for computational lipidomics who want to use cppgoslin within
their project. If you are interested to run goslin as a user, please
read  <a href="#webServiceUsers">Chapter 4</a>. The cppgoslin
implementation has been developed with the following objectives:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To ease the handling with lipid names for developers working on mass
spectro-metry-based lipidomics tools.</p>
</li>
<li>
<p>To offer a tool that unifies all existing dialects of lipid names.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is an open-source package under the MIT License available via
github <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>. For a detailed
structure of the implementation, read <a href="#goslinObjectModel">Chapter 9</a>.</p>
</div>
<div class="sect2">
<h3 id="_prerequisites">5.1. Prerequisites</h3>
<div class="paragraph">
<p>The cppgoslin library needs a GNU g compiler version with support for
the C 11 standard. It comes with simple makefiles for easy compilation
and installation. You need the following packages:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ g++ (compiler)
$ make</pre>
</div>
</div>
<div class="paragraph">
<p>To install the library globally on your system, simply type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ [sudo] make install</pre>
</div>
</div>
<div class="paragraph">
<p>Be sure that you have root permissions. Here, the library and headers
are installed into the /usr directory. If you want to change that
location, you have to edit the first line within the <em>makefile</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_testing_cppgoslin">5.2. Testing cppgoslin</h3>
<div class="paragraph">
<p>We set up more than 150 000 single unit and integration tests, to ensure
that cppgoslin is parsing correctly. To run the tests, please type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ make test
$ make runtests</pre>
</div>
</div>
<div class="paragraph">
<p>If a test should fail, please contact the
developers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_cppgoslin">5.3. Using cppgoslin</h3>
<div class="paragraph">
<p>The two major functions within cppgoslin are the parsing and printing of
lipid names. A minimalistic example will demonstrate both functions the
easiest way. In the examples folder, you will find the
<em>lipid_name_parser.cpp</em> file. Compile it by typing:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cd examples
$ make
$ ./lipid_name_parser</pre>
</div>
</div>
<div class="paragraph">
<p>Here is the minimalistic C++ code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c++" data-lang="c++">#include "cppgoslin/cppgoslin.h"
#include &lt;iostream&gt;
int main(){
    LipidParser parser;
    try {
        LipidAdduct* lipid = parser.parse("PA(12:0_14:0)");
        cout &lt;&lt; lipid-&gt;get_lipid_string() &lt;&lt; endl;
        delete lipid;
    }
    catch(LipidException&amp; e){
        // handle the exception
        cout &lt;&lt; e.what() &lt;&lt; endl;
    }
    return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To handle unexpected behavior, the parsing command should always be
placed within a try/catch block and the <code>LipidAdduct</code> pointer should be
deleted after usage to avoid memory leaks. Be aware when changing the
installation directory, you also have to change the library directory
within the examples <em>makefile</em>.</p>
</div>
<div class="paragraph">
<p>To retrieve a parsed lipid name on a higher hierarchy of lipid level,
simply define the level when requesting the lipid name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c++" data-lang="c++">#include "cppgoslin/cppgoslin.h"
#include &lt;iostream&gt;
int main(){
    LipidParser parser;
    try {
        // providing a lipid name on isomeric subspecies level
        LipidAdduct* lipid = parser.parse("PA(12:1(5Z)/14:0)");
        cout &lt;&lt; lipid-&gt;get_lipid_string(ISOMERIC_SUBSPECIES) &lt;&lt; endl;
        cout &lt;&lt; lipid-&gt;get_lipid_string(STRUCTURAL_SUBSPECIES) &lt;&lt; endl;
        cout &lt;&lt; lipid-&gt;get_lipid_string(MOLECULAR_SUBSPECIES) &lt;&lt; endl;
        cout &lt;&lt; lipid-&gt;get_lipid_string(SPECIES) &lt;&lt; endl;
        cout &lt;&lt; lipid-&gt;get_lipid_string(CLASS) &lt;&lt; endl;
        cout &lt;&lt; lipid-&gt;get_lipid_string(CATEGORY) &lt;&lt; endl;
        delete lipid;
    }
    catch(LipidException&amp; e){
        // handle the exception
        cout &lt;&lt; e.what() &lt;&lt; endl;
    }
    return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Requesting a lipid name on a lower level than the provided will throw an
exception. This functionality especially enables an easy way for
computing data for histograms on lipid class or category level.<br>
 <br>
To increase the parsing performance, one can pick a parser for only one
specific grammar:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c++" data-lang="c++">GoslinParser goslin_parser;
GoslinFragmentParser goslin_fragment_parser;
LipidMapsParser lipid_maps_parser;
SwissLipidsParser swiss_lipids_parser;
HmdbParser hmdb_parser;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python_implementation">6. Python Implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the documentation for the goslin reference implementation for
Python 3. Please be aware, that the documentation is dedicated to
developers of tools for computational lipidomics who want to insert
pygoslin into their project. If you are interested to run goslin as a
user, please read Section <a href="#webServiceUsers">Chapter 4</a>. The pygoslin
implementation has been developed with the following objectives:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To ease the handling with lipid names for developers working on mass
spectrometrybased lipidomics tools.</p>
</li>
<li>
<p>To offer a tool that unifies all existing dialects of lipid names.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is an open-source package under the MIT License available via
github <sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>. For a detailed
structure of the implementation, read <a href="#goslinObjectModel">Chapter 9</a>.</p>
</div>
<div class="sect2">
<h3 id="_prerequisites_2">6.1. Prerequisites</h3>
<div class="paragraph">
<p>The pygoslin package uses Python’s package management system <em>pip</em> to
create an isolated and defined build environment. You need Python &gt;=3.5
and the following packages to build the pygoslin package:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>python3-pip
cython (module for Python 3)
make (optional)</pre>
</div>
</div>
<div class="paragraph">
<p> <br>
To install the package globally in your Python distribution, simply
type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ [sudo] make install</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ [sudo] python setup.py install</pre>
</div>
</div>
<div class="paragraph">
<p>Be sure that you have root permissions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_testing_pygoslin">6.2. Testing pygoslin</h3>
<div class="paragraph">
<p>We set up more than 150 000 single unit and integration tests, to ensure
that pygoslin is parsing correctly. To run the tests, please type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ make test</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ python3 -m unittest pygoslin.tests.FattyAcidTest
$ python3 -m unittest pygoslin.tests.ParserTest
$ python3 -m unittest pygoslin.tests.SwissLipidsTest
$ python3 -m unittest pygoslin.tests.GoslinTest
$ python3 -m unittest pygoslin.tests.LipidMapsTest
$ python3 -m unittest pygoslin.tests.HmdbTest</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_pygoslin">6.3. Using pygoslin</h3>
<div class="paragraph">
<p>The two major functions within pygoslin are the parsing and printing of
lipid names. You have several options, to access these functions. This
example will demonstrate both functions the easiest way. Open a Python
shell and type in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">from pygoslin.parser.Parser import LipidParser

lipid_parser = LipidParser()  # setup the parser
lipid_name = "PE 16:1-12:0"

try:
    lipid = lipid_parser.parse(lipid_name)  # start parsing
    print(lipid.get_lipid_string())
except Exception as e:
    print(e)         # handle the exception</code></pre>
</div>
</div>
<div class="paragraph">
<p>For all unexpected states, an exception is being raised. Be aware, that
this method uses all available grammars in turn until a lipid name can
be parsed successfully by a parser. Currently, five grammars are
available, namely: Goslin, GoslinFragment, LipidMaps, SwissLipids, HMDB.
To use a specific grammar / parser, you can use the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># using solely the Goslin parser
from pygoslin.parser.Parser import GoslinParser
goslin_parser = GoslinParser()

lipid_name = "Cer 18:1;2/12:0"
try:
    lipid = goslin_parser.parse(lipid_name)
    print(lipid.get_lipid_string())
except Exception as e:
    print(e)</code></pre>
</div>
</div>
<div class="paragraph">
<p> <br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># using solely the Goslin Fragment parser
from pygoslin.parser.Parser import GoslinFragmentParser
goslin_fragment_parser = GoslinFragmentParser()

lipid_name = "Cer 18:1;2/12:0"
try:
    lipid = goslin_fragment_parser.parse(lipid_name)
    print(lipid.get_lipid_string())
except Exception as e:
    print(e)</code></pre>
</div>
</div>
<div class="paragraph">
<p> <br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># using solely the LipidMaps parser
from pygoslin.parser.Parser import LipidMapsParser
lipid_maps_parser = LipidMapsParser()

lipid_name = "Cer(d18:1/12:0)"
try:
    lipid = lipid_maps_parser.parse(lipid_name)
    print(lipid.get_lipid_string())
except Exception as e:
    print(e)</code></pre>
</div>
</div>
<div class="paragraph">
<p> <br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># using solely the SwissLipids parser
from pygoslin.parser.Parser import SwissLipidsParser
swiss_lipids_parser = SwissLipidsParser()

lipid_name = "Cer(d18:1/12:0)"
try:
    lipid = swiss_lipids_parser.parse(lipid_name)
    print(lipid.get_lipid_string())
except Exception as e:
    print(e)</code></pre>
</div>
</div>
<div class="paragraph">
<p> <br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># using solely the HMDB parser
from pygoslin.parser.Parser import HmdbParser
hmdb_parser = HmdbParser()

lipid_name = "Cer(d18:1/12:0)"
try:
    lipid = hmdb_parser.parse(lipid_name)
    print(lipid.get_lipid_string())
except Exception as e:
    print(e)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To be as generic as possible, no treatment of validation of the fragment
is conducted within the GoslinFragmentParser.<br>
 <br>
To retrieve a parsed lipid name on a higher hierarchy of lipid level,
simply define the level when requesting the lipid name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python"># report on different lipid hierarchies
from pygoslin.parser.Parser import *
from pygoslin.domain.LipidLevel import LipidLevel

parser = LipidParser()
# providing a lipid name on isomeric subspecies level
lipid_name = "PA 18:1(5Z)/12:0"

try:
    lipid = parser.parse(lipid_name)
    print(lipid.get_lipid_string(LipidLevel.ISOMERIC_SUBSPECIES))
    print(lipid.get_lipid_string(LipidLevel.STRUCTURAL_SUBSPECIES))
    print(lipid.get_lipid_string(LipidLevel.MOLECULAR_SUBSPECIES))
    print(lipid.get_lipid_string(LipidLevel.SPECIES))
    print(lipid.get_lipid_string(LipidLevel.CLASS))
    print(lipid.get_lipid_string(LipidLevel.CATEGORY))
except Exception as e:
    print(e)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This functionality especially enables an easy way for computing data for
histograms on lipid class or category level. Requesting a lipid name on
a lower level than the provided will raise an exception.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_r_implementation">7. R Implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project is a parser, validator and normalizer implementation for
shorthand lipid nomenclatures, using the Grammar of Succinct Lipid
Nomenclatures project for the R language ([<a href="https://www.r-project.org/" class="bare">https://www.r-project.org/</a>]).</p>
</div>
<div class="paragraph">
<p>Goslin defines multiple grammars for different sources of shorthand lipid nomenclature. This allows to generate parsers based on the defined grammars, which provide immediate feedback whether a processed lipid shorthand notation string is compliant with a particular grammar, or not.</p>
</div>
<div class="paragraph">
<p>Here, rgoslin 2.0 uses the Goslin grammars and the cppgoslin parser to support the following general tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Facilitate the parsing of shorthand lipid names dialects.</p>
</li>
<li>
<p>Provide a structural representation of the shorthand lipid after parsing.</p>
</li>
<li>
<p>Use the structural representation to generate normalized names, following the latest shorthand nomenclature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>rgoslin is an open-source package available via
github <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>.</p>
</div>
<div class="sect2">
<h3 id="_prerequisites_3">7.1. Prerequisites</h3>
<div class="paragraph">
<p>This project uses the R programming language. To be able to use it,
please install R: [<a href="https://cloud.r-project.org/" class="bare">https://cloud.r-project.org/</a>] following the
instructions for your particular operating system. rgoslin is based on
native C++ code (via cppgoslin). It therefore requires additional tools
on your system to compile and install it. Please see the Rcpp
FAQ: [<a href="https://cran.r-project.org/web/packages/Rcpp/vignettes/Rcpp-FAQ.pdf" class="bare">https://cran.r-project.org/web/packages/Rcpp/vignettes/Rcpp-FAQ.pdf</a>],
question 1.3 for installation details for your specific operating
system.</p>
</div>
<div class="paragraph">
<p>Install the ‘devtools‘ package with the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">if(!require(devtools)) { install.packages("devtools") }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">install_github("lifs-tools/rgoslin")</code></pre>
</div>
</div>
<div class="paragraph">
<p>to install from the github repository.</p>
</div>
<div class="paragraph">
<p>This will install the latest, potentially unstable development version
of the package with all required dependencies into your local R
installation.</p>
</div>
<div class="paragraph">
<p>If you want to use a proper release version, referenced by a Git tag
(here: v2.0.0) install the package as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">install_github("lifs-tools/rgoslin", ref="v2.0.0")</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you have cloned the code locally, use devtools as follows. Make sure
you set the working directory to where the API code is located. Then
execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">library(devtools)
install(".")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_testing_rgoslin">7.2. Testing rgoslin</h3>
<div class="paragraph">
<p>rgoslin uses the testthat R package to provide unit tests for the lipid
name parsing methods. The tests are located in the <code>tests</code> folder. To
run the tests, execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">library(devtools)
test()</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_rgoslin">7.3. Using rgoslin</h3>
<div class="paragraph">
<p>To load the package, start an R session and type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">library(rgoslin)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Type the following to see the package vignette / tutorial:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">vignette('introduction', package = 'rgoslin')</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to use the provided translation functions of rgoslin, you first
need to load the library.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">library(rgoslin)</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to check, which grammars are supported, use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">listAvailableGrammars()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Currently, the following grammars are available: LipidMaps, SwissLipids,
Goslin, Shorthand2020, FattyAcids, HMDB.</p>
</div>
<div class="paragraph">
<p>To check, whether a given lipid name can be parsed by any of the parsers
supplied by cppgoslin, you can use the <code>isValidLipidName</code> method. It
will return <code>TRUE</code> if the given name can be parsed by any of the
available parsers and <code>FALSE</code> if the name was not parseable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">isValidLipidName("PC 32:1")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using <code>parseLipidName</code> with a lipid name returns a data frame of
properties of the parsed lipid name as columns.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">df &lt;- parseLipidName("PC 32:1")</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to set the grammar to parse against manually, this is also
possible:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">originalName &lt;- "TG(16:1(5E)/18:0/20:2(3Z,6Z))"
tagDf &lt;- rgoslin::parseLipidNameWithGrammar(originalName, "LipidMaps")</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to parse multiple lipid names, use the <code>parseLipidNames</code>
method with a vector of lipid names. This returns a data frame of
properties of the parsed lipid names with one row per lipid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">multipleLipidNamesDf &lt;- parseLipidNames(c("PC 32:1","LPC 34:1","TG(18:1_18:0_16:1)"))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, if you want to parse multiple lipid names and want to use one
particular grammar:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">originalNames &lt;- c("PC 32:1","LPC 34:1","TAG 18:1_18:0_16:1")
multipleLipidNamesWithGrammar &lt;- parseLipidNamesWithGrammar(originalNames, "Goslin")</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Goslin parser also support reading of lipid shorthand names with adducts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-r" data-lang="r">originalNames &lt;- c("PC 32:1[M+H]1+", "PC 32:1 [M+H]+","PC 32:1")
lipidNamesWithAdduct &lt;- parseLipidNamesWithGrammar(originalNames, "Goslin")</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will populate the columns "Adduct" and "AdductCharge" with the respective values. Please note that we recommend to use the adduct and its charge in full IUPAC recommended nomenclature.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java_implementation">8. Java Implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project is a parser, validator and normalizer implementation for
shorthand lipid nomenclatures, based on goslin for the Java programming
language: [<a href="https://go.java/" class="bare">https://go.java/</a>].</p>
</div>
<div class="paragraph">
<p>goslin defines multiple grammars compatible with ANTLRv4 for different
sources of shorthand lipid nomenclature. This allows to generate parsers
based on the defined grammars, which provide immediate feedback whether
a processed lipid shorthand notation string is compliant with a
particular grammar, or not.</p>
</div>
<div class="paragraph">
<p>Here, jgoslin uses the goslin grammars and the generated parsers to
support the following general tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Facilitate the parsing of shorthand lipid names dialects.</p>
</li>
<li>
<p>Provide a structural representation of the shorthand lipid after
parsing.</p>
</li>
<li>
<p>Use the structural representation to generate normalized names.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Furthermore, jgoslin is an open-source package available via
github <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>.</p>
</div>
<div class="sect2">
<h3 id="_prerequisites_4">8.1. Prerequisites</h3>
<div class="paragraph">
<p>This project is based on Java 17. To use it, you need a jre installed on
your system. If you want to use the library in your own Java projects,
you need a jdk installed on your system. Please consult
[<a href="https://go.java/" class="bare">https://go.java/</a>] for installation options and
instructions for your operating system.</p>
</div>
<div class="paragraph">
<p>Installation instructions</p>
</div>
<div class="paragraph">
<p>Building the project and generating client code from the command-line</p>
</div>
<div class="paragraph">
<p>In order to build the client code and run the unit tests, execute the
following command from a terminal:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./mvnw install</pre>
</div>
</div>
<div class="paragraph">
<p>or on Windows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvnw.bat install</pre>
</div>
</div>
<div class="paragraph">
<p>This compiles and tests the Java library.</p>
</div>
</div>
<div class="sect2">
<h3 id="_testing_jgoslin">8.2. Testing jgoslin</h3>
<div class="paragraph">
<p>Here, jgoslin comes with a comprehensive collection of unit (JUnit 5),
integration (JUnit 5) tests. You can run all
of them as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./mvnw verify</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_command_line_interface">8.3. Using the command-line interface</h3>
<div class="paragraph">
<p>The <code>cli</code> sub-project provides a cli for parsing of lipid names either
from the command line or from a file with one lipid name per line.</p>
</div>
<div class="paragraph">
<p>After building the project as mentioned above with <code>./mvnw install</code>, the
<code>cli/target</code> folder will contain the <code>jgoslin-cli-&lt;VERSION&gt;-bin.zip</code>
file. Alternatively, you can download the latest cli zip file from
our repository: <a href="https://lifstools.jfrog.io/ui/artifactSearchResults?name=jgoslin-cli&amp;type=artifacts">Search for latest
jgoslin-cli-&lt;VERSION&gt;-bin.zip artefact</a> and click to download.</p>
</div>
<div class="paragraph">
<p>In order to run the validator, unzip that file, change into the unzipped
folder and run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar jgoslin-cli-&lt;VERSION&gt;.jar</pre>
</div>
</div>
<div class="paragraph">
<p>to see the available options.</p>
</div>
<div class="paragraph">
<p>To parse a single lipid name from the command line using all available
parsers, run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar jgoslin-cli-&lt;VERSION&gt;.jar -n "Cer(d18:1/20:2)"</pre>
</div>
</div>
<div class="paragraph">
<p>The output will tell you what is done and will echo a tab-separated table of the
results to the terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">Echoing output to stdout.
Normalized Name	Original Name	Grammar	Message	Adduct	Sum Formula	Mass	Lipid Maps Category	Lipid Maps Main Class	Functional Class Abbr	Functional Class Synonyms	Level	Total #C	Total #DB	Total #OH	LCB SN Position	LCB #C	LCB #DB	LCB Bond Type	LCB DB Positions	FA1 SN Position	FA1 #C	FA1 #DB	FA1 Bond Type	FA1 DB Positions
Cer 18:1;O2/20:2	Cer(d18:1/20:2)	LIPIDMAPS			C38H71NO3	589.5434	Sphingolipids [SP]	Ceramides [SP02]	[SP02]	[Cer, Ceramide]	SN_POSITION	38	3	2	0	18	1	LCB_EXCEPTION		2	20	2	ESTER</code></pre>
</div>
</div>
<div class="paragraph">
<p>To parse multiple lipid names from a file via the commmand line, run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar jgoslin-cli-&lt;VERSION&gt;.jar -f examples/lipidnames.txt</pre>
</div>
</div>
<div class="paragraph">
<p>To use a specific grammar, instead of trying all, run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar jgoslin-cli-&lt;VERSION&gt;.jar -f examples/lipidnames.txt -g GOSLIN</pre>
</div>
</div>
<div class="paragraph">
<p>To write output to the tab-separated output file ’goslin-out.tsv’
instead of to the terminal, run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java -jar jgoslin-cli-&lt;VERSION&gt;.jar -f examples/lipidnames.txt -g GOSLIN -o</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use all available grammars, simply omit the <code>-g GOSLIN</code>
argument. Please note that will increase the runtime significantly since all
available parsers will be run against each name until the first one returns successfully.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_jgoslin">8.4. Using jgoslin</h3>
<div class="paragraph">
<p>To integrate jgoslin in your own projects as a library, please see the
README file at <a href="https://github.com/lifs-tools/jgoslin" class="bare">https://github.com/lifs-tools/jgoslin</a> for more details.</p>
</div>
<div class="paragraph">
<p>The following snippet shows how to parse a shorthand lipid name with the
different parsers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import org.lifstools.jgoslin.domain.*; // contains Domain objects like LipidAdduct, LipidSpecies ...
import org.lifstools.jgoslin.parser.*; // contains the parser implementations
...

String ref = "Cer(d18:1/20:2)";
try {
	// use the SwissLipids parser
	SwissLipidsParser slParser = new SwissLipidsParser();
	// multiple eventhandlers can be used with one parser, e.g. in parallel processing
	SwissLipidsParserEventHandler slHandler = slParser.newEventHandler();
	LipidAdduct sllipid = slParser.parse(ref, slHandler);
	System.out.println(sllipid.getLipidString()); // to print the lipid name at its native level to the console
} catch (LipidException ptve) {
// catch this for any parsing or semantic issues with a lipid
	ptve.printStackTrace();
}

//alternatively, use the other parsers. Don't forget to place try catch blocks around the following lines, as for the SwissLipids parser example
// use the LipidMAPS parser
LipidMapsParser lmParser = new LipidMapsParser();
LipidMapsParserEventHandler lmHandler = lmParser.newEventHandler();
LipidAdduct lmlipid = lmParser.parse(ref, lmHandler);
// use the shorthand notation parser GOSLIN
GoslinParser goslinParser = new GoslinParser();
GoslinParserEventHandler goslinHandler = goslinParser.newEventHandler();
LipidAdduct golipid = goslinParser.parse(ref, goslinHandler);
// use the updated shorthand notation of 2020
ShorthandParser shorthandParser = new ShorthandParser();
ShorthandParserEventHandler shorthandHandler = shorthandParser.newEventHandler();
// calling parse with the optional argument false suppresses any exceptions, if errors are encountered, the returned LipidAdduct will be null
LipidAdduct shlipid = shorthandParser.parse(ref, shorthandHandler, false);</code></pre>
</div>
</div>
<div class="paragraph">
<p>To retrieve a parsed lipid name on a higher hierarchy of lipid level,
simply define the level when requesting the lipid name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">System.out.println(sllipid.getLipidString(LipidLevel.CATEGORY));
System.out.println(sllipid.getLipidString(LipidLevel.CLASS));
System.out.println(sllipid.getLipidString(LipidLevel.SPECIES));
System.out.println(sllipid.getLipidString(LipidLevel.MOLECULAR_SPECIES));
System.out.println(sllipid.getLipidString(LipidLevel.SN_POSITION));
System.out.println(sllipid.getLipidString(LipidLevel.STRUCTURE_DEFINED));
System.out.println(sllipid.getLipidString(LipidLevel.FULL_STRUCTURE));
System.out.println(sllipid.getLipidString(LipidLevel.COMPLETE_STRUCTURE));</code></pre>
</div>
</div>
<div class="paragraph">
<p>This functionality allows easy computation of aggregate statistics of
lipids on lipid class, category or arbitrary levels. Requesting a lipid
name on a lower level than the provided will raise a <code>org.lifstools.jgoslin.domain.ConstraintViolationException</code>.</p>
</div>
<div class="paragraph">
<p>For more examples how the API works, please consult the tests, especially in the parsers module.</p>
</div>
<div class="paragraph">
<p>For an overview of the domain model used by jgoslin, please see
 <a href="#goslinObjectModel">Chapter 9</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="goslinObjectModel">9. Goslin Object Model</h2>
<div class="sectionbody">
<div id="fig-goslinObjectModel" class="paragraph">
<div class="title">The object model shared by the different implementations.</div>
<p><span class="image"><img src="goslin-class-diagram.png" alt="Goslin 2.0 object model."></span></p>
</div>
<div class="paragraph">
<p>All goslin implementations are implementing the goslin object model as
illustrated in Figure <a href="#fig-goslin-object-model">[fig-goslin-object-model]</a>. The classes
<code>LipidCategory</code>, <code>LipidLevel</code>, <code>Element</code>, and <code>LipidFaBondType</code> are
predefined enumerations. Here, <code>LipidClass</code> is being populated
automatically from a list containing lipid information (name,
description, category, abbreviation, synonyms) for all implementations,
see <a href="https://github.com/lifs-tools/goslin/blob/master/lipid-list.csv">lipid-list.csv</a> for details.
This especially eases the maintenance and ensures that the goslin
implementations have the same data base. The main class unifying all
classes and being provided by the parsers is <code>LipidAdduct</code>. It contains
information about the pure lipid, the adduct as well as the fragment (if
defined). The different lipid classes inherit from each other in a
hierarchical fashion as defined by Liebisch et al.. A dictionary with
the class <code>LipidSpecies</code> is storing all its associated fatty acyl chains
which are defined within the class <code>FattyAcid</code>. For storing the
cummulated information on species level for the carbon length, double
bonds, etc, the class <code>LipidSpeciesInfo</code> is utilized. A <code>FattyAcid</code> can contain
multiple <code>FunctionalGroup</code> objects that can be of type <code>CarbonChain</code>, <code>Cycle</code>, or <code>AcylAlkylGroup</code>.
Known functional groups can be retrieved from <code>KnownFunctionalGroups</code>, which is being populated
automatically from a list of known functional groups.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supportedLipidClasses">10. Supported Lipid Classes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please check the most recent version of our <a href="https://github.com/lifs-tools/goslin/blob/master/lipid-list.csv">lipid classes table here</a>.</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://github.com/lifs-tools/cppgoslin" class="bare">https://github.com/lifs-tools/cppgoslin</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://github.com/lifs-tools/pygoslin" class="bare">https://github.com/lifs-tools/pygoslin</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://github.com/lifs-tools/rgoslin" class="bare">https://github.com/lifs-tools/rgoslin</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://github.com/lifs-tools/jgoslin" class="bare">https://github.com/lifs-tools/jgoslin</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-04-08 16:48:46 UTC
</div>
</div>
</body>
</html>